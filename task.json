{
  "atomCode": "PerforceSync",
  "execution": {
    "language": "java",
    "minimumVersion": "1.8",
    "demands": [],
    "target": "java -jar ATOM_CODE-jar-with-dependencies.jar"
  },
  "input": {
    "p4port": {
      "label": "P4服务器地址",
      "placeholder": "如: localhost:1666",
      "type": "vuex-input",
      "desc": "p4服务器地址",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "httpProxy": {
      "label": "HTTP代理地址",
      "placeholder": "如: devnet-proxy.oa.com:8080",
      "type": "vuex-input",
      "desc": "HTTP代理地址",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "ticketId": {
      "label": "用户凭证",
      "placeholder": "请选中对应凭证",
      "type": "selector",
      "desc": "凭证支持密码和ticket两种，使用凭证类型用户名+密码，密码可以输入p4密码或者ticket",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "optionsConf": {
        "searchable": true,
        "multiple": false,
        "url": "/ticket/api/user/credentials/{projectId}/hasPermissionList?permission=USE&credentialTypes=USERNAME_PASSWORD&page=1&pageSize=10000",
        "paramId": "credentialId",
        "paramName": "credentialId",
        "itemTargetUrl": "/ticket/{projectId}/createCredential/USERNAME_PASSWORD",
        "itemText": "添加新的凭证",
        "hasAddItem": true
      }
    },
    "rootPath": {
      "label": "工作空间根目录",
      "placeholder": "如/data/workspace",
      "type": "vuex-input",
      "desc": "",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "clientName": {
      "label": "工作空间名称",
      "placeholder": "如果没有则会创建",
      "type": "vuex-input",
      "desc": "",
      "required": true,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "stream": {
      "label": "Stream",
      "placeholder": "如：//JamCode/main",
      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "fileRevSpec": {
      "label": "同步文件版本",
      "placeholder": "如: file.c#4 、 //depot/proj1/...@21等等",
      "type": "vuex-input",
      "desc": "不填则同步所有文件,支持p4的FileSpec和RevSpec",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },
    "view": {
      "label": "工作空间视图",
      "placeholder": "可不填，非stream仓库时选择。\n//depot/...     //ws/...\n//depot/dir/... //ws/dir2/...",
      "type": "vuex-textarea",
      "desc": "仓库和工作空间映射关系,",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false
    },

    "forceUpdate": {
      "text": "强制更新",
      "default": false,
      "desc": "p4 sync -f",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "noUpdate": {
      "text": "预览模式",
      "default": false,
      "desc": "p4 sync -n",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "clientBypass": {
      "text": "跳过客户端更新",
      "default": false,
      "desc": "p4 sync -k",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "serverBypass": {
      "text": "跳过服务端更新",
      "default": false,
      "desc": "p4 sync -p",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "quiet": {
      "text": "安静模式",
      "default": false,
      "desc": "p4 sync -q",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "safetyCheck": {
      "text": "安全检查",
      "default": false,
      "desc": "p4 sync -s",
      "type": "atom-checkbox",

      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "max": {
      "label": "同步最大数量",
      "desc": "p4 sync -m",
      "type": "vuex-input",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "syncOptions"
    },
    "batch": {
      "label": "批处理数量",

      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "parallelSyncOptions"
    },
    "batchSize": {
      "label": "批处理字节数",

      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "parallelSyncOptions"
    },
    "minimum": {
      "label": "使用并发同步的最少文件数量",

      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "parallelSyncOptions"
    },
    "minimumSize": {
      "label": "使用并发同步的最少字节数",

      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "parallelSyncOptions"
    },
    "numberOfThreads": {
      "label": "并发线程数",
      "type": "vuex-input",
      "desc": "",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "parallelSyncOptions"
    },
    "allWrite": {
      "text": "AllWrite",
      "default": false,
      "desc": "Specifies whether unopened files are always writable. By default, Helix server makes unopened files read-only. ",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    },
    "clobber": {
      "text": "Alobber",
      "default": false,
      "desc": "Specifies whether p4 sync overwrites writable but unopened workspace files. (By default, Helix server does not overwrite unopened files if they are writable.)",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    },
    "compress": {
      "text": "Compress",
      "default": false,
      "desc": "Specifies whether data is compressed when it is sent between your computer and the Helix server.",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    },
    "locked": {
      "text": "Locked",
      "default": false,
      "desc": "Specifies whether other users can use, edit, or delete the client workspace specification. A Helix server administrator can override the lock with the -f (force) option.",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    },
    "modtime": {
      "text": "Modtime",
      "default": false,
      "desc": "For files without the +m (modtime) file type modifier, if modtime is set, the modification date (on the local filesystem) of a newly synced file is the datestamp on the file when the file was submitted to the depot. If nomodtime is set, the modification date is the date and time of sync.",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    },
    "rmdir": {
      "text": "Rmdir",
      "default": false,
      "desc": "Specifies whether p4 sync deletes empty directories in a workspace if all files in the directory have been removed.",
      "type": "atom-checkbox",
      "required": false,
      "disabled": false,
      "hidden": false,
      "isSensitive": false,
      "groupName": "fileOptions"
    }
  },

  "inputGroups": [{
    "name": "fileOptions",
    "label": "文件选项",
    "isExpanded": true
  }, {
    "name": "syncOptions",
    "label": "同步选项",
    "isExpanded": false
  }, {
    "name": "parallelSyncOptions",
    "label": "并发同步选项（需要p4服务器支持--parallel参数，老版本服务器可能不支持）",
    "isExpanded": false
  }]
}